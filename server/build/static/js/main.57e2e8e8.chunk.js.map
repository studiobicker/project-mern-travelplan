{"version":3,"sources":["pages/Home.js","api/authService.js","components/LoginForm.js","pages/Login.js","components/RegisterForm.js","pages/Register.js","api/tripService.js","components/Trip.js","components/NotFound.js","components/Loader.js","pages/Dashboard.js","api/uploadService.js","pages/Profile.js","api/countryService.js","pages/NewTrip.js","api/weatherService.js","pages/Trip.js","components/Destination.js","pages/TravelPlan.js","utils/functions.js","components/SideMenu.js","components/Member.js","components/SendInvitation.js","pages/TripMembers.js","components/handleInvites/Accept.js","components/handleInvites/LoginAccept.js","components/handleInvites/RegisterAccept.js","pages/ErrorPage.js","pages/AcceptInvitation.js","components/Message.js","pages/Messages.js","components/PrivateRoute.js","components/NavBarBurger.js","components/NavBarTrips.js","components/NavBar.js","App.js","serviceWorker.js","index.js","images/tripbuilder.svg"],"names":["Home","className","authService","login","payload","a","email","password","service","post","data","register","name","isLoggedIn","get","logout","this","axios","create","baseURL","process","withCredentials","LoginForm","onSubmitHandler","onChangeHandler","onSubmit","htmlFor","type","placeholder","onChange","required","Login","setUserState","history","useState","err","setError","inputFields","setUser","AuthService","e","preventDefault","user","currentTrip","push","_id","message","response","target","value","RegisterForm","Register","tripService","getMyTrips","description","selectedLatLng","country","label","latitude","longitude","setCurrentTrip","id","getTripById","getTripDestinations","getTripMembers","getTripMessages","getInvitations","sendInvitation","level","parseInt","deleteInvitation","invitationId","getInvitation","acceptInvitation","compareEmail","addDestination","deleteDestination","destinationId","changeOrderDestination","destId","secondDestSeq","secondDestId","destSeq","addMessage","msg","deleteMessage","messageId","Trip","props","src","trip","tripPicture","alt","to","NotFound","class","Loader","Dashboard","componentDidMount","myTrips","setState","isLoading","console","log","renderTrips","state","length","map","i","key","TripService","Component","UploadService","uploadProfile","Profile","uploadService","form","createRef","submitHandler","FormData","current","profilePicture","ref","encType","CountryService","getAll","NewTrip","countryService","countries","countryArray","latlng","handleSelectChange","updatedUser","options","WeatherService","getWeather","lat","lng","match","params","userTrip","weatherService","currentWeather","weather","isLoadingTrip","icon","main","temp","Destination","index","destination","onClick","MAPBOX_TOKEN","dataLayer","layout","paint","TravelPlan","viewport","setViewport","userLevel","longitudes","latitudes","destinations","parseFloat","bounds","lngs","lats","minLng","Math","min","maxLng","max","getBounds","WebMercatorViewport","fitBounds","padding","zoom","width","height","transitionDuration","transitionInterpolator","FlyToInterpolator","listOfMarkers","offsetLeft","offsetTop","listOfDestinations","drawRoute","coordinates","features","geometry","dest","tripId","updatedTrip","direction","sequence","handleViewportChange","handleGeocoderViewportChange","handleGeoResult","event","result","text","mapStyle","mapRef","React","onViewportChange","mapboxApiAccessToken","onResult","SideMenu","Member","member","deleteMember","data-tooltip","SendInvitation","toggleModal","checked","TripMembers","showModal","listOfMembers","members","invitation","invitationSend","levelnum","Accept","LoginAccept","token","setTaskState","RegisterAccept","ErrorPage","AcceptInvitation","task","queryString","parse","location","search","error","matchingEmail","uuid","Message","Messages","listOfMessages","messageboard","newMessage","concat","messages","protectedRoute","component","rest","render","NavBarBurger","toggleMenu","active","NavBarTrips","memberships","selectTrip","NavBar","activeMenu","closeMenu","logoutAndCloseMenu","logo","App","isLoadingUser","exact","path","PrivateRoute","Boolean","window","hostname","ReactDOM","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","module","exports"],"mappings":"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","file":"static/js/main.57e2e8e8.chunk.js","sourcesContent":["import React, { useState } from \"react\";\n\nexport default function Home() {\n  return (\n    <section className=\"hero is-bg-img is-fullheight-with-navbar\">\n      <div className=\"overlay\"></div>\n      <div className=\"hero-body\">\n        <div className=\"container has-text-centered\">\n          <div className=\"columns is-centered\">\n            <div className=\"column is-half\">\n              <h1 className=\"title is-2 has-text-white\">\n                WHERE ARE YOU OFF TO NEXT?\n              </h1>\n              <h2 className=\"subtitle has-text-white\">\n                Plan your vacation with trip builder! Our travel planning tool\n                helps you map out your ideal trip, organize all the details, and\n                share them with your friends.\n              </h2>\n            </div>\n          </div>\n        </div>\n      </div>\n    </section>\n  );\n}\n","import axios from \"axios\";\n\nexport default class authService {\n  constructor() {\n    this.service = axios.create({\n      baseURL: process.env.REACT_APP_BASE_URL,\n      withCredentials: true\n    });\n  }\n\n  login = async payload => {\n    const { email, password } = payload;\n    const { data } = await this.service.post(\"auth/login\", {\n      email,\n      password\n    });\n    return data;\n  };\n\n  register = async payload => {\n    const { name, email, password } = payload;\n    const { data } = await this.service.post(\"auth/register\", {\n      name,\n      email,\n      password\n    });\n    return data;\n  };\n\n  isLoggedIn = async () => {\n    const { data } = await this.service.get(\"/auth/isLoggedIn\");\n    return data;\n  };\n\n  logout = async () => {\n    const { data } = await this.service.get(\"/auth/logout\");\n  };\n}\n","import React from \"react\";\n\nexport default function LoginForm({ onSubmitHandler, onChangeHandler }) {\n  return (\n    <form onSubmit={onSubmitHandler}>\n      <div className=\"field\">\n        <label className=\"label\" htmlFor=\"email\">\n          Email\n        </label>\n        <div className=\"control has-icons-left has-icons-right\">\n          <input\n            className=\"input\"\n            type=\"email\"\n            placeholder=\"jane@example.com\"\n            name=\"email\"\n            onChange={onChangeHandler}\n            required\n          />\n          <span className=\"icon is-small is-left\">\n            <i className=\"fas fa-user\"></i>\n          </span>\n        </div>\n      </div>\n      <div className=\"field\">\n        <label className=\"label\" htmlFor=\"password\">\n          Password\n        </label>\n        <div className=\"control has-icons-left\">\n          <input\n            className=\"input\"\n            type=\"password\"\n            placeholder=\"Password\"\n            name=\"password\"\n            onChange={onChangeHandler}\n            required\n          />\n          <span className=\"icon is-small is-left\">\n            <i className=\"fas fa-lock\"></i>\n          </span>\n        </div>\n      </div>\n      <div className=\"field is-grouped is-grouped-right\">\n        <div className=\"control\">\n          <button className=\"button  is-link\">Log in</button>\n        </div>\n      </div>\n    </form>\n  );\n}\n","import React, { useState } from \"react\";\nimport AuthService from \"../api/authService\";\nimport LoginForm from \"../components/LoginForm\";\n\nexport default function Login({ setUserState, history }) {\n  const [err, setError] = useState(null);\n  const [inputFields, setUser] = useState({ email: \"\", password: \"\" });\n\n  const authService = new AuthService();\n\n  const onChangeHandler = e => {\n    const { name, value } = e.target;\n    setUser({ ...inputFields, [name]: value });\n  };\n\n  const onSubmitHandler = async e => {\n    e.preventDefault();\n    debugger;\n    try {\n      const user = await authService.login(inputFields);\n      setUserState(user);\n      if (user.currentTrip) {\n        history.push(`/trip/${user.currentTrip._id}`);\n      } else {\n        history.push(\"/dashboard\");\n      }\n    } catch (err) {\n      const { message } = err.response.data;\n      setError(message);\n    }\n  };\n\n  return (\n    <div>\n      <section className=\"section\">\n        <div className=\"columns is-centered\">\n          <div className=\"column is-one-third\">\n            <div className=\"box\">\n              <LoginForm\n                onSubmitHandler={onSubmitHandler}\n                onChangeHandler={onChangeHandler}\n              />\n              {err && <code className=\"is-error\">{err}</code>}\n            </div>\n          </div>\n        </div>\n      </section>\n    </div>\n  );\n}\n","import React from \"react\";\n\nexport default function RegisterForm({ onSubmitHandler, onChangeHandler }) {\n  return (\n    <form onSubmit={onSubmitHandler}>\n      <div className=\"field\">\n        <label className=\"label\" htmlFor=\"name\">\n          Name\n        </label>\n        <div className=\"control has-icons-left has-icons-right\">\n          <input\n            className=\"input\"\n            type=\"text\"\n            placeholder=\"Jane Smith\"\n            name=\"name\"\n            onChange={onChangeHandler}\n            required\n          />\n          <span className=\"icon is-small is-left\">\n            <i className=\"fas fa-user\"></i>\n          </span>\n        </div>\n      </div>\n      <div className=\"field\">\n        <label className=\"label\" htmlFor=\"email\">\n          Email\n        </label>\n        <div className=\"control has-icons-left \">\n          <input\n            className=\"input\"\n            type=\"email\"\n            placeholder=\"jane@example.com\"\n            name=\"email\"\n            onChange={onChangeHandler}\n            required\n          />\n          <span className=\"icon is-small is-left\">\n            <i className=\"fas fa-envelope\"></i>\n          </span>\n        </div>\n      </div>\n      <div className=\"field\">\n        <label className=\"label\" htmlFor=\"password\">\n          Password\n        </label>\n        <div className=\"control has-icons-left\">\n          <input\n            className=\"input\"\n            type=\"password\"\n            placeholder=\"Password\"\n            name=\"password\"\n            onChange={onChangeHandler}\n            required\n          />\n          <span className=\"icon is-small is-left\">\n            <i className=\"fas fa-lock\"></i>\n          </span>\n        </div>\n      </div>\n\n      <div className=\"field is-grouped is-grouped-right\">\n        <div className=\"control\">\n          <button className=\"button is-link\">Sign up</button>\n        </div>\n      </div>\n    </form>\n  );\n}\n","import React, { useState } from \"react\";\nimport AuthService from \"../api/authService\";\nimport RegisterForm from \"../components/RegisterForm\";\n\nexport default function Register({ setUserState, history }) {\n  const [err, setError] = useState(null);\n  const [inputFields, setUser] = useState({\n    name: \"\",\n    password: \"\",\n    email: \"\"\n  });\n  const authService = new AuthService();\n\n  const onSubmitHandler = async e => {\n    debugger;\n    e.preventDefault();\n    try {\n      const user = await authService.register(inputFields);\n      setUserState(user);\n      history.push(\"/dashboard\");\n    } catch (err) {\n      const { message } = err.response.data;\n      setError(message);\n    }\n  };\n\n  const onChangeHandler = e => {\n    e.preventDefault();\n    const { name, value } = e.target;\n    setUser({ ...inputFields, [name]: value });\n  };\n\n  return (\n    <section className=\"section\">\n      <div className=\"columns is-centered\">\n        <div className=\"column is-one-third\">\n          <div className=\"box\">\n            <RegisterForm\n              onSubmitHandler={onSubmitHandler}\n              onChangeHandler={onChangeHandler}\n            />\n            {err && <code className=\"is-error\">{err}</code>}\n          </div>\n        </div>\n      </div>\n    </section>\n  );\n}\n","import axios from \"axios\";\n\nexport default class tripService {\n  constructor() {\n    this.service = axios.create({\n      baseURL: process.env.REACT_APP_BASE_URL,\n      withCredentials: true\n    });\n  }\n\n  getMyTrips = async () => {\n    const { data } = await this.service.get(\"/trip/getTripsByUser\");\n    return data;\n  };\n\n  create = async payload => {\n    const { name, description, selectedLatLng } = payload;\n    const { data } = await this.service.post(\"trip/createTrip\", {\n      name,\n      description,\n      country: selectedLatLng.label,\n      latitude: selectedLatLng.value[0],\n      longitude: selectedLatLng.value[1]\n    });\n    return data;\n  };\n\n  setCurrentTrip = async id => {\n    debugger;\n    const { data } = await this.service.get(`trip/setCurrentTrip/${id}`);\n    return data;\n  };\n\n  getTripById = async id => {\n    const { data } = await this.service.get(`trip/getTripById/${id}`);\n    return data;\n  };\n\n  getTripDestinations = async id => {\n    const { data } = await this.service.get(`trip/getTripDestinations/${id}`);\n    return data;\n  };\n\n  getTripMembers = async id => {\n    const { data } = await this.service.get(`trip/getTripMembers/${id}`);\n    return data;\n  };\n\n  getTripMessages = async id => {\n    const { data } = await this.service.get(`trip/getTripMessages/${id}`);\n    return data;\n  };\n\n  getInvitations = async id => {\n    const { data } = await this.service.get(\n      `trip/invitation/getTripInvitations/${id}`\n    );\n    return data;\n  };\n\n  sendInvitation = async (payload, id) => {\n    const { email, level } = payload;\n    const { data } = await this.service.post(`trip/invitation/send/${id}`, {\n      email,\n      level: parseInt(level)\n    });\n    return data;\n  };\n\n  deleteInvitation = async (payload, id) => {\n    const invitationId = payload;\n    const { data } = await this.service.post(`trip/invitation/remove/${id}`, {\n      invitationId\n    });\n    return data;\n  };\n\n  getInvitation = async id => {\n    const { data } = await this.service.get(`public/getInvitation/${id}`);\n    return data;\n  };\n\n  acceptInvitation = async id => {\n    const { data } = await this.service.get(`trip/invitation/accept/${id}`);\n    return data;\n  };\n\n  compareEmail = async id => {\n    const { data } = await this.service.get(`trip/invitation/compare/${id}`);\n    return data;\n  };\n\n  addDestination = async (payload, id) => {\n    const { name, latitude, longitude } = payload;\n    const { data } = await this.service.post(`trip/destination/add/${id}`, {\n      name,\n      latitude,\n      longitude\n    });\n    return data;\n  };\n\n  deleteDestination = async (payload, id) => {\n    const destinationId = payload;\n    const { data } = await this.service.post(`trip/destination/remove/${id}`, {\n      destinationId\n    });\n    return data;\n  };\n\n  changeOrderDestination = async (payload, id) => {\n    debugger;\n    const { destId, secondDestSeq, secondDestId, destSeq } = payload;\n    const { data } = await this.service.post(`trip/destination/change/${id}`, {\n      destId,\n      secondDestSeq,\n      secondDestId,\n      destSeq\n    });\n    return data;\n  };\n\n  addMessage = async (payload, id) => {\n    debugger;\n    const msg = payload;\n    const { data } = await this.service.post(`trip/message/add/${id}`, {\n      msg\n    });\n    return data;\n  };\n\n  deleteMessage = async (payload, id) => {\n    const messageId = payload;\n    const { data } = await this.service.post(`trip/message/remove/${id}`, {\n      messageId\n    });\n    return data;\n  };\n}\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nexport default function Trip(props) {\n  return (\n    <div className=\"box\">\n      <article className=\"media\">\n        <div className=\"media-left\">\n          <figure className=\"image is-128x128\">\n            <img src={props.trip.tripPicture} alt={props.trip.name} />\n          </figure>\n        </div>\n        <div className=\"media-content\">\n          <div className=\"content\">\n            <p>\n              <strong>{props.trip.name}</strong>\n              <br />\n              {props.trip.description}\n            </p>\n            <p></p>\n          </div>\n\n          <div className=\"field is-grouped is-grouped-right\">\n            <Link\n              className=\"button is-success\"\n              to={`/travelplan/${props.trip._id}`}\n            >\n              <span className=\"icon is-small\">\n                <i className=\"fas fa-map-marked-alt\"></i>\n              </span>\n              <span>Go to Travel Plan</span>\n            </Link>\n          </div>\n        </div>\n      </article>\n    </div>\n  );\n}\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nexport default function NotFound() {\n  return (\n    <div class=\"content has-text-centered\">\n      <h2 className=\"Subtitle\">No trips found</h2>\n      <p>Ready to create your first trip?</p>\n      <Link className=\"button is-success\" to={`/add-trip`}>\n        Add a trip\n      </Link>\n    </div>\n  );\n}\n","import React from \"react\";\n\nexport default function Loader({ className }) {\n  return (\n    <section className=\"hero is-fullheight-with-navbar\">\n      <div className=\"hero-body loader-container\">\n        <div className=\"loader\"></div>\n      </div>\n    </section>\n  );\n}\n","import React, { Component } from \"react\";\nimport TripService from \"../api/tripService\";\nimport Trip from \"../components/Trip\";\nimport NotFound from \"../components/NotFound\";\nimport Loader from \"../components/Loader\";\n\nexport default class Dashboard extends Component {\n  constructor() {\n    super();\n    this.state = {\n      myTrips: null,\n      isLoading: true\n    };\n    this.tripService = new TripService();\n  }\n\n  componentDidMount = async () => {\n    try {\n      const myTrips = await this.tripService.getMyTrips();\n      debugger;\n      this.setState({ myTrips, isLoading: false });\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  renderTrips = () => {\n    debugger;\n    if (this.state.myTrips && this.state.myTrips.length > 0) {\n      return this.state.myTrips.map((trip, i) => {\n        return <Trip key={i} {...trip} />;\n      });\n    } else {\n      return <NotFound />;\n    }\n  };\n\n  render() {\n    if (this.state.isLoading) return <Loader className=\"full-screen-loader\" />;\n    return (\n      <section className=\"section\">\n        <div className=\"container\">{this.renderTrips()}</div>\n      </section>\n    );\n  }\n}\n","import axios from \"axios\";\n\nexport default class UploadService {\n  constructor() {\n    this.service = axios.create({\n      baseURL: process.env.REACT_APP_BASE_URL,\n      withCredentials: true\n    });\n  }\n\n  uploadProfile = async payload => {\n    debugger;\n    const { data } = await this.service.post(\"/upload/profilePicture\", payload);\n    return data;\n  };\n}\n","import React, { createRef, useState } from \"react\";\nimport UploadService from \"../api/uploadService\";\n\nexport default function Profile({ user, setUserState }) {\n  const uploadService = new UploadService();\n  const form = createRef();\n\n  const [err, setError] = useState(null);\n\n  const changeHandler = async e => {\n    debugger;\n    const { name, value } = e.target;\n  };\n\n  const submitHandler = async e => {\n    e.preventDefault();\n    try {\n      const data = new FormData(form.current);\n      debugger;\n      const user = await uploadService.uploadProfile(data);\n      setUserState(user);\n      setError(null);\n    } catch (err) {\n      debugger;\n      const { message } = err.response.data;\n      setError(message);\n    }\n  };\n  debugger;\n  return (\n    <section className=\"section\">\n      <div className=\"container\">\n        <div className=\"columns is-centered\">\n          <div className=\"column is-two-thirds\">\n            <div className=\"box\">\n              {user.profilePicture && (\n                <figure className=\"image is-128x128\">\n                  <img className=\"is-rounded\" src={user.profilePicture} />\n                </figure>\n              )}\n              <form\n                onSubmit={submitHandler}\n                ref={form}\n                encType=\"multipart/form-data\"\n              >\n                <input\n                  type=\"file\"\n                  name=\"picture\"\n                  placeholder=\"upload your profile\"\n                />\n                <button type=\"submit\">Upload photo</button>\n\n                {err && <p>{err}</p>}\n              </form>\n            </div>\n          </div>\n        </div>\n      </div>\n    </section>\n  );\n}\n","import axios from \"axios\";\n\nexport default class CountryService {\n  constructor() {\n    this.service = axios.create({\n      baseURL: process.env.REACT_APP_COUNTRY_API_URL\n    });\n  }\n\n  getAll = async () => {\n    const { data } = await this.service.get(\"all\");\n\n    debugger;\n    return data;\n  };\n}\n","import React, { Component } from \"react\";\nimport TripService from \"../api/tripService\";\nimport CountryService from \"../api/countryService\";\nimport Loader from \"../components/Loader\";\nimport Select from \"react-select\";\n\nexport default class NewTrip extends Component {\n  constructor() {\n    super();\n    this.state = {\n      name: \"\",\n      description: \"\",\n      selectedLatLng: null,\n      countries: null,\n      err: null,\n      isLoading: true\n    };\n\n    this.tripService = new TripService();\n    this.countryService = new CountryService();\n  }\n\n  componentDidMount = async () => {\n    try {\n      const countries = await this.countryService.getAll();\n      const countryArray = countries.map(country => {\n        return { value: country.latlng, label: country.name };\n      });\n\n      this.setState({ countries: countryArray, isLoading: false });\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  handleSelectChange = selectedLatLng => {\n    this.setState({ selectedLatLng });\n  };\n\n  onChangeHandler = e => {\n    const { name, value } = e.target;\n    this.setState({ [name]: value });\n  };\n\n  onSubmitHandler = async e => {\n    e.preventDefault();\n    debugger;\n    try {\n      const updatedUser = await this.tripService.create(this.state);\n      this.props.setUserState(updatedUser);\n      debugger;\n      this.props.history.push(`/trip/${updatedUser.currentTrip.trip._id}`);\n    } catch (err) {\n      const { message } = err.response.data;\n      this.setState({ err: message });\n    }\n  };\n  render() {\n    const { selectedLatLng, countries } = this.state;\n\n    if (this.state.isLoading) return <Loader className=\"full-screen-loader\" />;\n    return (\n      <section className=\"section\">\n        <div className=\"container\">\n          <div className=\"content has-text-centered\">\n            <h2 className=\"Subtitle\">New Trip</h2>\n          </div>\n          <div className=\"columns is-centered\">\n            <div className=\"column is-half\">\n              <form onSubmit={this.onSubmitHandler}>\n                <div className=\"box\">\n                  <div className=\"field\">\n                    <label className=\"label\" htmlFor=\"name\">\n                      What's the name of your trip\n                    </label>\n                    <div className=\"control\">\n                      <input\n                        className=\"input\"\n                        type=\"text\"\n                        placeholder=\"Name of your trip\"\n                        name=\"name\"\n                        onChange={this.onChangeHandler}\n                        required\n                      />\n                    </div>\n                  </div>\n                  <div className=\"field\">\n                    <label className=\"label\" htmlFor=\"name\">\n                      Which country do you want to visit?\n                    </label>\n                    <Select\n                      value={selectedLatLng}\n                      onChange={this.handleSelectChange}\n                      options={countries}\n                    />\n                    <p className=\"help\">\n                      If you plan to visit multiple countries, just fill in the\n                      first one. Don't worry, you can change this later.\n                    </p>\n                  </div>\n                  <div className=\"field\">\n                    <label className=\"label\" htmlFor=\"description\">\n                      A few words about your trip\n                    </label>\n                    <div className=\"control\">\n                      <textarea\n                        className=\"textarea\"\n                        placeholder=\"Description\"\n                        name=\"description\"\n                        onChange={this.onChangeHandler}\n                      />\n                    </div>\n                  </div>\n\n                  <div className=\"field is-grouped is-grouped-right\">\n                    <div className=\"control\">\n                      <button className=\"button is-link\">Create trip</button>\n                    </div>\n                  </div>\n                </div>\n                {this.state.err && (\n                  <code className=\"is-error\">{this.state.err}</code>\n                )}\n              </form>\n            </div>\n          </div>\n        </div>\n      </section>\n    );\n  }\n}\n","import axios from \"axios\";\n\nexport default class WeatherService {\n  constructor() {\n    this.service = axios.create({\n      baseURL: process.env.REACT_APP_WEATHER_API_URL\n    });\n  }\n\n  getWeather = async (lat, lng) => {\n    debugger;\n    const appId = \"66578334c5710fdd247d39820c38a8fe\";\n    const { data } = await this.service.get(\n      `weather?lat=${lat}&lon=${lng}&units=metric&APPID=${appId}`\n    );\n\n    debugger;\n    return data;\n  };\n}\n","import React, { Component } from \"react\";\nimport TripService from \"../api/tripService\";\nimport Loader from \"../components/Loader\";\nimport WeatherService from \"../api/weatherService\";\n\nexport default class Trip extends Component {\n  constructor() {\n    super();\n    this.state = {\n      trip: null,\n      level: null,\n      weather: null,\n      isLoadingTrip: true,\n      err: null\n    };\n    this.tripService = new TripService();\n    this.weatherService = new WeatherService();\n  }\n\n  componentDidMount = async () => {\n    const id = this.props.match.params.id;\n    try {\n      debugger;\n      const userTrip = await this.tripService.getTripById(id);\n      const currentWeather = await this.weatherService.getWeather(\n        userTrip.trip.country.latitude,\n        userTrip.trip.country.longitude\n      );\n\n      debugger;\n      this.setState({\n        trip: userTrip.trip,\n        level: userTrip.level,\n        weather: currentWeather,\n        isLoadingTrip: false\n      });\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  render() {\n    if (this.state.isLoadingTrip)\n      return <Loader className=\"full-screen-loader\" />;\n\n    return (\n      <section className=\"section\">\n        <div className=\"container\">\n          <div className=\"tile is-ancestor\">\n            <div className=\"tile is-vertical is-8\">\n              <div className=\"tile is-parent\">\n                <article className=\"tile is-child content notification is-link\">\n                  <h2 className=\"title\">{this.state.trip.name}</h2>\n                  <div className=\"tile-menu\">\n                    <i className=\"fas fa-ellipsis-v\"></i>\n                  </div>\n                  <div className=\"subtitle\">{this.state.trip.country.name}</div>\n                  <p>{this.state.trip.description}</p>\n                  <div className=\"currentWeather\">\n                    <div\n                      className={`weatherIcon i-${this.state.weather.weather[0].icon}`}\n                    ></div>\n                    <div className=\"temp\">\n                      {this.state.weather.main.temp}&deg;\n                    </div>\n                    <div className=\"desc\">\n                      {this.state.weather.weather[0].description}\n                    </div>\n                  </div>\n                </article>\n              </div>\n              <div className=\"tile\">\n                <div className=\"tile is-parent is-vertical\">\n                  <article className=\"tile is-child box\"></article>\n                  <article className=\"tile is-child box\"></article>\n                </div>\n                <div className=\"tile is-parent\">\n                  <article className=\"tile is-child box\"></article>\n                </div>\n              </div>\n            </div>\n            <div className=\"tile is-parent\">\n              <article className=\"tile is-child content box\">\n                <h3 className=\"subtitle\">Members</h3>\n              </article>\n            </div>\n          </div>\n        </div>\n      </section>\n    );\n  }\n}\n","import React from \"react\";\n\nexport default function Destination({\n  index,\n  destination,\n  deleteDestination,\n  changeOrderDestination,\n  ...props\n}) {\n  return (\n    <li>\n      <div className=\"destLi\">\n        <i\n          className=\"fas fa-caret-up\"\n          onClick={() => changeOrderDestination(\"up\", index)}\n        ></i>\n        <i\n          className=\"fas fa-caret-down\"\n          onClick={() => changeOrderDestination(\"down\", index)}\n        ></i>\n\n        <span>{destination.name}</span>\n        <span\n          className=\"is-pulled-right\"\n          onClick={() => deleteDestination(destination._id)}\n        >\n          <i className=\"fas fa-trash-alt\"></i>\n        </span>\n      </div>\n    </li>\n  );\n}\n","import React, { Component } from \"react\";\nimport TripService from \"../api/tripService\";\nimport Loader from \"../components/Loader\";\nimport Destination from \"../components/Destination\";\nimport \"mapbox-gl/dist/mapbox-gl.css\";\nimport \"react-map-gl-geocoder/dist/mapbox-gl-geocoder.css\";\nimport { getBounds } from \"../utils/functions\";\n\nimport MapGL, {\n  Marker,\n  Source,\n  Layer,\n  LinearInterpolator,\n  FlyToInterpolator\n} from \"react-map-gl\";\nimport Geocoder from \"react-map-gl-geocoder\";\nimport WebMercatorViewport from \"viewport-mercator-project\";\n\n// 3rd-party easing functions\n//import d3 from \"d3-ease\";\n\nconst MAPBOX_TOKEN = process.env.REACT_APP_MAPBOX_ACCESS_TOKEN;\n\nconst dataLayer = {\n  id: \"route\",\n  type: \"line\",\n  layout: {\n    \"line-join\": \"round\",\n    \"line-cap\": \"round\"\n  },\n  paint: {\n    \"line-color\": \"#888\",\n    \"line-width\": 2,\n    \"line-dasharray\": [1, 2]\n  }\n};\n\nexport default class TravelPlan extends Component {\n  debugger;\n  constructor() {\n    super();\n    this.state = {\n      trip: null,\n      userLevel: null,\n      isLoadingTrip: true,\n      viewport: {\n        width: 400,\n        height: 400,\n        longitude: 4.89066,\n        latitude: 52.373169,\n        zoom: 3\n      },\n      mapStyle: \"mapbox://styles/studiobicker/ck3jwdm2s18n71dmzr1z32dks\",\n      err: null\n    };\n    this.tripService = new TripService();\n    this.mapRef = React.createRef();\n  }\n\n  componentDidMount = async () => {\n    const id = this.props.match.params.id;\n    try {\n      const userTrip = await this.tripService.getTripDestinations(id);\n\n      const viewport = this.setViewport(userTrip.trip);\n\n      this.setState({\n        trip: userTrip.trip,\n        userLevel: userTrip.level,\n        viewport,\n        isLoadingTrip: false\n      });\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  setViewport = trip => {\n    debugger;\n    let longitudes = [];\n    let latitudes = [];\n    trip.destinations.map((destination, i) => {\n      longitudes[i] = parseFloat(destination.longitude);\n      latitudes[i] = parseFloat(destination.latitude);\n    });\n\n    const bounds = getBounds(longitudes, latitudes);\n\n    let viewport;\n    if (trip.destinations.length > 0) {\n      const { longitude, latitude, zoom } = new WebMercatorViewport(\n        this.state.viewport\n      ).fitBounds(bounds, {\n        padding: 100\n      });\n      viewport = {\n        ...this.state.viewport,\n        width: \"100%\",\n        height: \"80vh\",\n        longitude,\n        latitude,\n        zoom,\n        transitionDuration: 1000,\n        transitionInterpolator: new FlyToInterpolator()\n      };\n    } else {\n      viewport = {\n        ...this.state.viewport,\n        longitude: trip.country.longitude,\n        latitude: trip.country.latitude,\n        width: \"100%\",\n        height: \"80vh\",\n        transitionDuration: 1000,\n        transitionInterpolator: new FlyToInterpolator()\n      };\n    }\n\n    return viewport;\n  };\n\n  listOfMarkers = () => {\n    return this.state.trip.destinations.map((destination, i) => {\n      return (\n        <Marker\n          key={i}\n          latitude={destination.latitude}\n          longitude={destination.longitude}\n          offsetLeft={-20}\n          offsetTop={-10}\n        >\n          <span className=\"tag is-primary\">{destination.name}</span>\n        </Marker>\n      );\n    });\n  };\n\n  listOfDestinations = () => {\n    return this.state.trip.destinations.map((destination, i) => {\n      return (\n        <Destination\n          key={i}\n          index={i}\n          destination={destination}\n          deleteDestination={this.deleteDestination}\n          changeOrderDestination={this.changeOrderDestination}\n        >\n          <span className=\"tag is-primary\">{destination.name}</span>\n        </Destination>\n      );\n    });\n  };\n\n  drawRoute = () => {\n    debugger;\n    let coordinates = [];\n    this.state.trip.destinations.map((destination, i) => {\n      coordinates[i] = [destination.longitude, destination.latitude];\n    });\n    const geojson = {\n      type: \"FeatureCollection\",\n      features: [\n        {\n          type: \"Feature\",\n          geometry: {\n            type: \"LineString\",\n            coordinates: coordinates\n          }\n        }\n      ]\n    };\n\n    return geojson;\n  };\n\n  addDestination = async dest => {\n    try {\n      const tripId = this.state.trip._id;\n      const updatedTrip = await this.tripService.addDestination(dest, tripId);\n\n      const viewport = this.setViewport(updatedTrip);\n\n      this.setState({\n        trip: updatedTrip,\n        viewport\n      });\n    } catch (err) {\n      const { message } = err.response.data;\n      this.setState({ err: message });\n    }\n  };\n\n  deleteDestination = async id => {\n    const tripId = this.state.trip._id;\n    const updatedTrip = await this.tripService.deleteDestination(id, tripId);\n\n    const viewport = this.setViewport(updatedTrip);\n\n    this.setState({\n      trip: updatedTrip,\n      viewport\n    });\n  };\n\n  changeOrderDestination = async (direction, index) => {\n    const tripId = this.state.trip._id;\n    const destinations = this.state.trip.destinations;\n    const destId = destinations[index]._id;\n    const destSeq = destinations[index].sequence;\n    if (direction === \"up\" && destinations[index - 1]) {\n      /* If selected destination moves up\n        selected destination -> sequence of previous destination \n        previous destination -> sequense of selected destination */\n      const secondDestId = destinations[index - 1]._id;\n      const secondDestSeq = destinations[index - 1].sequence;\n\n      const updatedTrip = await this.tripService.changeOrderDestination(\n        { destId, secondDestSeq, secondDestId, destSeq },\n        tripId\n      );\n      this.setState({\n        trip: updatedTrip\n      });\n    } else if (direction === \"down\" && destinations[index + 1]) {\n      /* If selected destination moves down\n        selected destination -> sequence of next destination \n        next destination -> sequense of selected destination */\n\n      const secondDestId = destinations[index + 1]._id;\n      const secondDestSeq = destinations[index + 1].sequence;\n\n      const updatedTrip = await this.tripService.changeOrderDestination(\n        { destId, secondDestSeq, secondDestId, destSeq },\n        tripId\n      );\n      this.setState({\n        trip: updatedTrip\n      });\n    }\n  };\n\n  handleViewportChange = viewport => {\n    this.setState({\n      viewport: { ...this.state.viewport, ...viewport }\n    });\n  };\n\n  // if you are happy with Geocoder default settings, you can just use handleViewportChange directly\n  handleGeocoderViewportChange = viewport => {\n    debugger;\n    const geocoderDefaultOverrides = { transitionDuration: 1000 };\n    return this.handleViewportChange({\n      ...viewport,\n      ...geocoderDefaultOverrides\n    });\n  };\n\n  handleGeoResult = event => {\n    debugger;\n    const dest = {};\n    dest.name = event.result.text;\n    dest.longitude = event.result.geometry.coordinates[0];\n    dest.latitude = event.result.geometry.coordinates[1];\n    this.addDestination(dest);\n  };\n\n  render() {\n    if (this.state.isLoadingTrip)\n      return <Loader className=\"full-screen-loader\" />;\n\n    return (\n      <div className=\"section\">\n        <div className=\"container\">\n          <div className=\"tile is-ancestor\">\n            <div className=\"tile is-parent is-8\">\n              <article className=\"tile is-child\">\n                <figure className=\"image\">\n                  <MapGL\n                    ref={this.mapRef}\n                    {...this.state.viewport}\n                    mapStyle={this.state.mapStyle}\n                    onViewportChange={this.handleViewportChange}\n                    mapboxApiAccessToken={MAPBOX_TOKEN}\n                  >\n                    {this.listOfMarkers()}\n\n                    <Source type=\"geojson\" data={this.drawRoute()}>\n                      <Layer {...dataLayer} />\n                    </Source>\n                  </MapGL>\n                  <Geocoder\n                    mapRef={this.mapRef}\n                    mapboxApiAccessToken={MAPBOX_TOKEN}\n                    onResult={this.handleGeoResult}\n                    mapboxApiAccessToken={MAPBOX_TOKEN}\n                  />\n                </figure>\n              </article>\n            </div>\n            <div className=\"tile is-parent\">\n              <article className=\"tile is-child content box\">\n                <h3 className=\"subtitle\">Add a destination</h3>\n                <p className=\"is-size-7\">\n                  <i className=\"far fa-lightbulb\"></i> Use the search field on\n                  the map canvas\n                </p>\n                <br />\n                <ul>{this.listOfDestinations()}</ul>\n              </article>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n","export function getBounds(lngs, lats) {\n  console.log(lngs);\n  debugger;\n  const minLng = Math.min(...lngs);\n  const maxLng = Math.max(...lngs);\n  const minLat = Math.min(...lats);\n  const maxLat = Math.max(...lats);\n\n  return [\n    [minLng, minLat],\n    [maxLng, maxLat]\n  ];\n}\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nexport default function SideMenu({ tripId, ...props }) {\n  return (\n    <aside className=\"menu\">\n      <p className=\"menu-label\">Activity</p>\n      <ul className=\"menu-list\">\n        <li>\n          <Link to={`/travelplan/${tripId}`}>Travel Plan</Link>\n        </li>\n        <li>\n          <Link to={`/tripmembers/${tripId}`}>Trip Members</Link>\n        </li>\n        <li>\n          <Link to={`/messages/${tripId}`}>Messages</Link>\n        </li>\n      </ul>\n    </aside>\n  );\n}\n","import React from \"react\";\n\nexport default function Member({ index, member, deleteMember, ...props }) {\n  debugger;\n  return (\n    <li>\n      <button\n        className=\"button is-medium is-white is-image\"\n        data-tooltip={member.user.name}\n      >\n        <figure className=\"image is-48x48\">\n          <img className=\"is-rounded\" src={member.user.profilePicture} />\n        </figure>\n      </button>\n    </li>\n  );\n}\n","import React, { Component } from \"react\";\n\nexport default class SendInvitation extends Component {\n  constructor() {\n    super();\n    this.state = {\n      email: \"\",\n      level: 10\n    };\n  }\n\n  onChangeHandler = e => {\n    const { name, value } = e.target;\n    this.setState({ [name]: value });\n  };\n\n  onSubmitHandler = async e => {\n    e.preventDefault();\n    this.props.sendInvitation(this.state);\n  };\n\n  render() {\n    return (\n      <div className=\"modal is-active\">\n        <div\n          className=\"modal-background\"\n          onClick={this.props.toggleModal}\n        ></div>\n        <div className=\"modal-card\">\n          <form onSubmit={this.onSubmitHandler}>\n            <header className=\"modal-card-head\">\n              <p className=\"modal-card-title\">Send an invitation</p>\n            </header>\n            <section className=\"modal-card-body\">\n              <div className=\"field\">\n                <label class=\"label\">Who would you like to invite?</label>\n                <p className=\"control\">\n                  <input\n                    className=\"input\"\n                    name=\"email\"\n                    onChange={this.onChangeHandler}\n                    value={this.state.email}\n                    type=\"email\"\n                    placeholder=\"Enter a email address\"\n                    required\n                  />\n                </p>\n              </div>\n              <div className=\"field\">\n                <label className=\"label\">What can they do?</label>\n                <p className=\"control\">\n                  <label className=\"radio\">\n                    <input\n                      value=\"5\"\n                      type=\"radio\"\n                      name=\"level\"\n                      onChange={this.onChangeHandler}\n                      checked={this.state.level == 5}\n                    />{\" \"}\n                    Edit the travel plan, invite others and comment it\n                  </label>\n                  <br />\n                  <label className=\"radio\">\n                    <input\n                      value=\"10\"\n                      type=\"radio\"\n                      name=\"level\"\n                      onChange={this.onChangeHandler}\n                      checked={this.state.level == 10}\n                    />{\" \"}\n                    View the travel plan and comment it\n                  </label>\n                </p>\n              </div>\n            </section>\n            <footer className=\"modal-card-foot\">\n              <button className=\"button\" onClick={this.props.toggleModal}>\n                Cancel\n              </button>\n              <button className=\"button is-link\">Send</button>\n            </footer>\n          </form>\n        </div>\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport TripService from \"../api/tripService\";\nimport SideMenu from \"../components/SideMenu\";\nimport Loader from \"../components/Loader\";\nimport Member from \"../components/Member\";\nimport SendInvitation from \"../components/SendInvitation\";\n\nexport default class TripMembers extends Component {\n  constructor() {\n    super();\n    this.state = {\n      trip: null,\n      level: null,\n      isLoadingTrip: true,\n      err: null,\n      msg: null,\n      showModal: false\n    };\n    this.tripService = new TripService();\n  }\n  componentDidMount = async () => {\n    const id = this.props.match.params.id;\n    try {\n      const userTrip = await this.tripService.getTripMembers(id);\n      this.setState({\n        trip: userTrip.trip,\n        level: userTrip.level,\n        isLoadingTrip: false\n      });\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  toggleModal = () => {\n    this.setState({ showModal: !this.state.showModal });\n  };\n\n  listOfMembers = () => {\n    return this.state.trip.members.map((member, i) => {\n      return (\n        <Member\n          key={i}\n          index={i}\n          member={member}\n          deleteMember={this.deleteMember}\n        />\n      );\n    });\n  };\n\n  sendInvitation = async invitation => {\n    //the invitation parameter is the state of Modal\n\n    try {\n      const id = this.props.match.params.id;\n      const invitationSend = await this.tripService.sendInvitation(\n        invitation,\n        id\n      );\n\n      this.setState({\n        showModal: false,\n        msg: invitationSend.message\n      });\n    } catch (err) {\n      const { message } = err.response.data;\n      this.setState({ err: message, showModal: false });\n    }\n  };\n\n  render() {\n    if (this.state.isLoadingTrip)\n      return <Loader className=\"full-screen-loader\" />;\n    return (\n      <div className=\"container\">\n        <div className=\"db-duo\">\n          <aside className=\"db-side\">\n            <SideMenu tripId={this.state.trip._id} />\n          </aside>\n\n          <div className=\"db-lead\">\n            <div className=\"card\">\n              <div className=\"card-content\">\n                <h2 className=\"subtitle\">Members</h2>\n                <ul className=\"memberList\">\n                  {this.listOfMembers()}\n                  {this.state.level.levelnum <= 5 && (\n                    <li>\n                      <button\n                        onClick={this.toggleModal}\n                        className=\"button is-medium is-light is-round\"\n                      >\n                        <span className=\"icon\">\n                          <i className=\"fas fa-plus\"></i>\n                        </span>\n                      </button>\n                    </li>\n                  )}\n                </ul>\n                {this.state.showModal && (\n                  <SendInvitation\n                    toggleModal={this.toggleModal}\n                    sendInvitation={this.sendInvitation}\n                  />\n                )}\n              </div>\n\n              {this.state.err && (\n                <article class=\"message is-error\">\n                  <div class=\"message-body\">{this.state.err}</div>\n                </article>\n              )}\n              {this.state.msg && (\n                <article class=\"message is-success\">\n                  <div class=\"message-body\">{this.state.msg}</div>\n                </article>\n              )}\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n","import React from \"react\";\n\nimport { Link } from \"react-router-dom\";\nexport default function Accept({ trip, acceptInvitation, match }) {\n  return (\n    <section className=\"section\">\n      <div className=\"columns is-centered\">\n        <div className=\"column is-one-third\">\n          <div className=\"box\">\n            <div className=\"content\">\n              <h2 className=\"subtitle\">You're invited for trip {trip}</h2>\n              <p>\n                By accepting this invitation you will be able to view, build,\n                and discuss this trip with all other trip members.\n              </p>\n              {!match && (\n                <p>\n                  <em>\n                    The email address of the logged in user doesn't match with\n                    the email address on the invitation. Are you sure you want\n                    to continue?\n                  </em>\n                </p>\n              )}\n            </div>\n            <div className=\"field is-grouped\">\n              <p className=\"control\">\n                <Link className=\"button\" to=\"/dashboard\">\n                  Cancel\n                </Link>\n              </p>\n              <p className=\"control\">\n                <button className=\"button is-link\" onClick={acceptInvitation}>\n                  Accept\n                </button>\n              </p>\n            </div>\n          </div>\n        </div>\n      </div>\n    </section>\n  );\n}\n","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport LoginForm from \"../LoginForm\";\nimport AuthService from \"../../api/authService\";\n\nexport default class LoginAccept extends Component {\n  constructor() {\n    super();\n    this.state = {\n      err: null,\n      email: \"\",\n      password: \"\"\n    };\n    this.authService = new AuthService();\n  }\n\n  onChangeHandler = e => {\n    const { name, value } = e.target;\n    this.setState({ [name]: value });\n  };\n\n  onSubmitHandler = async e => {\n    e.preventDefault();\n    debugger;\n    try {\n      const user = await this.authService.login({\n        email: this.state.email,\n        password: this.state.password\n      });\n      // accept invitation\n      this.props.acceptInvitation();\n      debugger;\n      this.props.setUserState(user);\n      debugger;\n      this.props.history.push(\"/dashboard\");\n      debugger;\n    } catch (err) {\n      const { message } = err.response.data;\n      this.setState({ err: message });\n    }\n  };\n\n  render() {\n    return (\n      <section className=\"section\">\n        <div className=\"columns is-centered\">\n          <div className=\"column is-one-third\">\n            <div className=\"box\">\n              <div className=\"content\">\n                <h2 className=\"subtitle\">\n                  You're invited for trip {this.props.trip}\n                </h2>\n                <p>\n                  Sign in to Trip Builder and join trip {this.props.trip}. Or{\" \"}\n                  <Link\n                    to={`/invite/register?token=${this.props.token}`}\n                    onClick={() => this.props.setTaskState(\"register\")}\n                  >\n                    <strong>sign up</strong>\n                  </Link>{\" \"}\n                  if you don't have an account.\n                </p>\n                <LoginForm\n                  onSubmitHandler={this.onSubmitHandler}\n                  onChangeHandler={this.onChangeHandler}\n                />\n                {this.state.err && (\n                  <code className=\"is-error\">{this.state.err}</code>\n                )}\n              </div>\n            </div>\n          </div>\n        </div>\n      </section>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport RegisterForm from \"../RegisterForm\";\nimport AuthService from \"../../api/authService\";\n\nexport default class RegisterAccept extends Component {\n  constructor() {\n    super();\n    this.state = {\n      err: null,\n      name: \"\",\n      email: \"\",\n      password: \"\"\n    };\n    this.authService = new AuthService();\n  }\n\n  onChangeHandler = e => {\n    const { name, value } = e.target;\n    this.setState({ [name]: value });\n  };\n\n  onSubmitHandler = async e => {\n    e.preventDefault();\n    debugger;\n    try {\n      const user = await this.authService.register({\n        name: this.state.name,\n        email: this.state.email,\n        password: this.state.password\n      });\n      // accept invitation\n      this.props.acceptInvitation();\n      this.props.setUserState(user);\n      this.props.history.push(\"/dashboard\");\n    } catch (err) {\n      const { message } = err.response.data;\n      this.setState({ err: message });\n    }\n  };\n\n  render() {\n    return (\n      <section className=\"section\">\n        <div className=\"columns is-centered\">\n          <div className=\"column is-one-third\">\n            <div className=\"box\">\n              <div className=\"content\">\n                <h2 className=\"subtitle\">\n                  You're invited for trip {this.props.trip}\n                </h2>\n                <p>\n                  Sign up for a free Trip Builder account and join trip{\" \"}\n                  {this.props.trip}. Or{\" \"}\n                  <Link\n                    to={`/invite/accept?token=${this.props.token}`}\n                    onClick={() => this.props.setTaskState(\"accept\")}\n                  >\n                    <strong>sign in</strong>\n                  </Link>{\" \"}\n                  if you already have an account. Sign in to Or if you don't\n                  have an account.\n                </p>\n                <RegisterForm\n                  onSubmitHandler={this.onSubmitHandler}\n                  onChangeHandler={this.onChangeHandler}\n                />\n                {this.state.err && (\n                  <code className=\"is-error\">{this.state.err}</code>\n                )}\n              </div>\n            </div>\n          </div>\n        </div>\n      </section>\n    );\n  }\n}\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nexport default function ErrorPage({ message }) {\n  return (\n    <section className=\"hero is-fullheight-with-navbar\">\n      <div className=\"hero-body loader-container\">\n        <div className=\"content\">\n          <h2 className=\"Subtitle\">Something went wrong</h2>\n          <p>{message}</p>\n        </div>\n      </div>\n    </section>\n  );\n}\n","import React, { Component } from \"react\";\nimport queryString from \"query-string\";\nimport Loader from \"../components/Loader\";\nimport Accept from \"../components/handleInvites/Accept\";\nimport LoginAccept from \"../components/handleInvites/LoginAccept\";\nimport RegisterAccept from \"../components/handleInvites/RegisterAccept\";\nimport ErrorPage from \"../pages/ErrorPage\";\nimport TripService from \"../api/tripService\";\n\nexport default class AcceptInvitation extends Component {\n  constructor() {\n    super();\n    this.state = {\n      task: null,\n      invitation: null,\n      match: null,\n      isLoading: true,\n      user: null,\n      err: null\n    };\n    this.tripService = new TripService();\n  }\n\n  componentDidMount = async () => {\n    const task = this.props.match.params.task;\n    const token = queryString.parse(this.props.location.search).token;\n    let invitation;\n    let error = null;\n    try {\n      invitation = await this.tripService.getInvitation(token);\n      const user = this.props.user; /* check if user is loggedIn */\n\n      let match = null;\n      if (user) {\n        /* check if user mail === invitee mail */\n        const matchingEmail = await this.tripService.compareEmail(\n          invitation._id\n        );\n        match = matchingEmail.result;\n      }\n      debugger;\n      this.setState({\n        task,\n        invitation,\n        match,\n        user: user,\n        err: error,\n        isLoading: false\n      });\n    } catch (err) {\n      const { message } = err.response.data;\n      this.setState({ err: message, isLoading: false });\n    }\n  };\n\n  setTaskState = task => {\n    this.setState({ task });\n  };\n\n  acceptInvitation = async () => {\n    debugger;\n    try {\n      const accept = await this.tripService.acceptInvitation(\n        this.state.invitation.uuid\n      );\n      this.props.history.push(\"/dashboard\");\n    } catch (err) {\n      const { message } = err.response.data;\n      this.setState({ err: message });\n    }\n  };\n\n  render() {\n    if (this.state.isLoading) return <Loader className=\"full-screen-loader\" />;\n    if (this.state.err) return <ErrorPage message={this.state.err} />;\n    if (this.state.user) {\n      return (\n        <Accept\n          trip={this.state.invitation.trip.name}\n          acceptInvitation={this.acceptInvitation}\n          match={this.match}\n        />\n      );\n    } else {\n      debugger;\n      if (this.state.task === \"accept\") {\n        return (\n          <LoginAccept\n            trip={this.state.invitation.trip.name}\n            token={this.state.invitation.uuid}\n            acceptInvitation={this.acceptInvitation}\n            setTaskState={this.setTaskState}\n            setUserState={this.props.setUserState}\n            history={this.props.history}\n          />\n        );\n      } else {\n        return (\n          <RegisterAccept\n            trip={this.state.invitation.trip.name}\n            token={this.state.invitation.uuid}\n            acceptInvitation={this.acceptInvitation}\n            setTaskState={this.setTaskState}\n            setUserState={this.props.setUserState}\n            history={this.props.history}\n          />\n        );\n      }\n    }\n  }\n}\n","import React from \"react\";\n\nexport default function Message({ message, user }) {\n  return (\n    <li className={`message ${user === message.user ? \"right\" : \"left\"}`}>\n      {message.msg}\n    </li>\n  );\n}\n","import React, { Component } from \"react\";\nimport TripService from \"../api/tripService\";\nimport SideMenu from \"../components/SideMenu\";\n\nimport Message from \"../components/Message\";\nimport Loader from \"../components/Loader\";\n\nexport default class Messages extends Component {\n  constructor() {\n    super();\n\n    this.state = {\n      trip: null,\n      isLoadingTrip: true,\n      err: null,\n      messages: null,\n      msg: \"\"\n    };\n\n    this.tripService = new TripService();\n  }\n\n  componentDidMount = async () => {\n    const id = this.props.match.params.id;\n    debugger;\n    try {\n      const userTrip = await this.tripService.getTripMessages(id);\n\n      this.setState({\n        trip: userTrip.trip,\n        userLevel: userTrip.level,\n        isLoadingTrip: false\n      });\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  listOfMessages = () => {\n    return this.state.trip.messageboard.map((message, i) => {\n      return <Message key={i} message={message} user={this.props.user} />;\n    });\n  };\n\n  addMessage = async msg => {\n    try {\n      const tripId = this.state.trip._id;\n      debugger;\n      const newMessage = await this.tripService.addMessage(msg, tripId);\n      this.setState({\n        trip: {\n          ...this.state.trip,\n          messageboard: this.state.trip.messageboard.concat(newMessage)\n        },\n        msg: \"\"\n      });\n    } catch (err) {\n      const { message } = err.response.data;\n      this.setState({ err: message });\n    }\n  };\n\n  deleteMessage = async id => {\n    const tripId = this.state.trip._id;\n    const deleteMessage = await this.tripService.deleteMessage(id, tripId);\n\n    // this.setState({\n    //   trip: {\n    //     ...this.state.trip,\n    //     destinations: this.state.trip.destinations.filter(\n    //       dest => dest._id !== id\n    //     )\n    //   }\n    // });\n  };\n\n  onChangeHandler = e => {\n    const { name, value } = e.target;\n    this.setState({ [name]: value });\n  };\n\n  onSubmitHandler = async e => {\n    e.preventDefault();\n    this.addMessage(this.state.msg);\n  };\n\n  render() {\n    if (this.state.isLoadingTrip)\n      return <Loader className=\"full-screen-loader\" />;\n    return (\n      <div className=\"container\">\n        <div className=\"db-duo\">\n          <aside className=\"db-side\">\n            <SideMenu tripId={this.state.trip._id} />\n          </aside>\n\n          <div className=\"db-lead\">\n            <div className=\"card messageboard\">\n              <div className=\"card-content\">\n                <h2 className=\"subtitle\">Messages</h2>\n\n                <div className=\"messages\">\n                  <ul>{this.listOfMessages()}</ul>\n                </div>\n                <form onSubmit={this.onSubmitHandler}>\n                  <div class=\"field is-grouped\">\n                    <p className=\"control is-expanded\">\n                      <input\n                        className=\"input\"\n                        type=\"text\"\n                        name=\"msg\"\n                        placeholder=\"Write a message\"\n                        value={this.state.msg}\n                        onChange={this.onChangeHandler}\n                      />\n                    </p>\n                    <p className=\"control\">\n                      <button className=\"button is-link\">Submit</button>\n                    </p>\n                  </div>\n                </form>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\n\n// the private route is a function that will return a Route component or Redirect.\n// that expects a component, an user an other props.\n// the other props will be set in ...rest (the most important one will be the path definition (the path we see in the browser's navigation))\nconst protectedRoute = ({ component: Component, user, ...rest }) => {\n  return (\n    <Route\n      render={props => {\n        //render is a function that checks if the user is passed a long. If not the private route will redirect to \"/\"\n        if (user) {\n          return <Component {...props} user={user} {...rest} />;\n        } else {\n          return <Redirect to=\"/\" />;\n        }\n      }}\n    />\n  );\n};\nexport default protectedRoute;\n","import React from \"react\";\n\nexport default function NavBarBurger(props) {\n  return (\n    <button\n      onClick={props.toggleMenu}\n      className={`button navbar-burger ${props.active ? \"is-active\" : \"\"}`}\n    >\n      <span />\n      <span />\n      <span />\n    </button>\n  );\n}\n","import React, { Component } from \"react\";\nimport TripService from \"../api/tripService\";\nimport { Link } from \"react-router-dom\";\n\nexport default class NavBarTrips extends Component {\n  constructor() {\n    super();\n\n    this.tripService = new TripService();\n  }\n\n  renderTrips = () => {\n    const myTrips = this.props.user.memberships;\n    if (myTrips && myTrips.length > 0) {\n      return myTrips.map((trip, i) => {\n        return (\n          <Link\n            key={i}\n            className=\"navbar-item\"\n            onClick={() => this.selectTrip(trip.trip._id)}\n            to={`/trip/${trip.trip._id}`}\n          >\n            {trip.trip.name}\n          </Link>\n        );\n      });\n    } else {\n      return (\n        <div className=\"navbar-item\">\n          <p>No trips found</p>\n        </div>\n      );\n    }\n  };\n\n  selectTrip = async id => {\n    try {\n      const updatedUser = await this.tripService.setCurrentTrip(id);\n      this.props.setUserState(updatedUser);\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  render() {\n    if (this.props.user.currentTrip) {\n      return (\n        <div className=\"navbar-item has-dropdown is-hoverable\">\n          <Link className=\"navbar-link\" to=\"/profile\">\n            {this.props.user.currentTrip.trip.name}\n          </Link>\n          <div className=\"navbar-dropdown\">\n            {this.renderTrips()}\n            <hr className=\"navbar-divider\" />\n\n            <Link className=\"navbar-item\" to=\"/add-trip\">\n              Add Trip\n            </Link>\n          </div>\n        </div>\n      );\n    } else {\n      return (\n        <div className=\"navbar-item has-dropdown is-hoverable\">\n          <Link className=\"navbar-link\" to=\"/profile\">\n            Select a trip\n          </Link>\n          <div className=\"navbar-dropdown\">\n            {this.renderTrips()}\n            <hr className=\"navbar-divider\" />\n\n            <Link className=\"navbar-item\" to=\"/add-trip\">\n              Add Trip\n            </Link>\n          </div>\n        </div>\n      );\n    }\n  }\n}\n","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport NavbarBurger from \"./NavBarBurger\";\nimport NavBarTrips from \"./NavBarTrips\";\nimport logo from \"../images/tripbuilder.svg\";\n\nexport default class NavBar extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      activeMenu: false\n    };\n  }\n\n  toggleMenu = () => {\n    this.setState({\n      activeMenu: !this.state.activeMenu\n    });\n  };\n\n  closeMenu = () => {\n    this.setState({\n      activeMenu: false\n    });\n  };\n\n  logoutAndCloseMenu = () => {\n    this.props.logout();\n    this.toggleMenu();\n  };\n\n  render() {\n    if (this.props.user) {\n      return (\n        <nav className=\"navbar is-spaced\">\n          <div className=\"navbar-brand\">\n            <Link className=\"navbar-item\" to=\"/dashboard\">\n              <img src={logo} className=\"logo\" alt=\"logo\" />\n            </Link>\n            <NavBarTrips\n              user={this.props.user}\n              setUserState={this.props.setUserState}\n            />\n\n            <NavbarBurger\n              active={this.state.activeMenu}\n              toggleMenu={this.toggleMenu}\n            />\n          </div>\n\n          <div\n            id=\"navbarMenu\"\n            className={`navbar-menu ${\n              this.state.activeMenu ? \"is-active\" : \"\"\n            }`}\n          >\n            {this.props.user.currentTrip && (\n              <div className=\"navbar-start\">\n                <Link\n                  className=\"navbar-item\"\n                  to={`/tripmembers/${this.props.user.currentTrip.trip._id}`}\n                  onClick={this.closeMenu}\n                >\n                  <span className=\"icon\">\n                    <i className=\"far fa-compass\"></i>\n                  </span>\n                  <span>Explore</span>\n                </Link>\n                <Link\n                  className=\"navbar-item\"\n                  to={`/tripmembers/${this.props.user.currentTrip.trip._id}`}\n                  onClick={this.closeMenu}\n                >\n                  <span className=\"icon\">\n                    <i className=\"far fa-bookmark\"></i>\n                  </span>\n                  <span>Saved</span>\n                </Link>\n\n                <Link\n                  className=\"navbar-item\"\n                  to={`/travelplan/${this.props.user.currentTrip.trip._id}`}\n                  onClick={this.closeMenu}\n                >\n                  <span className=\"icon\">\n                    <i className=\"fas fa-route\"></i>\n                  </span>\n                  <span>Travel route</span>\n                </Link>\n\n                <Link\n                  className=\"navbar-item\"\n                  to={`/messages/${this.props.user.currentTrip.trip._id}`}\n                  onClick={this.closeMenu}\n                >\n                  <span className=\"icon\">\n                    <i className=\"far fa-comments\"></i>\n                  </span>\n                  <span>Chat</span>\n                </Link>\n              </div>\n            )}\n            <div className=\"navbar-end\">\n              <div className=\"navbar-item has-dropdown is-hoverable\">\n                <Link\n                  className=\"navbar-link\"\n                  to=\"/profile\"\n                  onClick={this.closeMenu}\n                >\n                  My Account\n                </Link>\n                <div className=\"navbar-dropdown\">\n                  <div className=\"navbar-item account\">\n                    <p>\n                      <strong>{this.props.user.name}</strong>\n                    </p>\n                    <p className=\"small\">{this.props.user.email}</p>\n                  </div>\n                  <hr className=\"navbar-divider\" />\n                  <Link\n                    className=\"navbar-item\"\n                    to=\"/profile\"\n                    onClick={this.closeMenu}\n                  >\n                    Settings\n                  </Link>\n                  <Link\n                    className=\"navbar-item\"\n                    onClick={this.logoutAndCloseMenu}\n                    to=\"/\"\n                  >\n                    Log out\n                  </Link>\n                </div>\n              </div>\n              <Link\n                className=\"navbar-item\"\n                to=\"/notifications\"\n                onClick={this.closeMenu}\n              >\n                <span className=\"icon\">\n                  <i className=\"fas fa-bell\"></i>\n                </span>\n              </Link>\n            </div>\n          </div>\n        </nav>\n      );\n    } else {\n      return (\n        <nav className=\"navbar is-spaced\">\n          <div className=\"navbar-brand\">\n            <Link className=\"navbar-item\" to=\"/\">\n              <img src={logo} className=\"logo\" alt=\"logo\" />\n            </Link>\n            <NavbarBurger\n              active={this.state.activeMenu}\n              toggleMenu={this.toggleMenu}\n            />\n          </div>\n          <div\n            id=\"navbarMenu\"\n            className={`navbar-menu ${\n              this.state.activeMenu ? \"is-active\" : \"\"\n            }`}\n          >\n            <div className=\"navbar-start\">\n              <Link\n                className=\"navbar-item\"\n                to=\"/how-it-works\"\n                onClick={this.closeMenu}\n              >\n                How it works\n              </Link>\n            </div>\n            <div className=\"navbar-end\">\n              <div className=\"navbar-item\">\n                <div className=\"buttons\">\n                  <Link\n                    className=\"button is-primary\"\n                    to=\"/register\"\n                    onClick={this.closeMenu}\n                  >\n                    <strong>Sign up</strong>\n                  </Link>\n                  <Link\n                    className=\"button is-light\"\n                    to=\"/login\"\n                    onClick={this.closeMenu}\n                  >\n                    Log in\n                  </Link>\n                </div>\n              </div>\n            </div>\n          </div>\n        </nav>\n      );\n    }\n  }\n}\n","import React, { Component } from \"react\";\nimport { Switch, Route } from \"react-router-dom\";\nimport Home from \"./pages/Home\";\nimport Login from \"./pages/Login\";\nimport Register from \"./pages/Register\";\nimport Dashboard from \"./pages/Dashboard\";\nimport Profile from \"./pages/Profile\";\nimport NewTrip from \"./pages/NewTrip\";\nimport Trip from \"./pages/Trip\";\nimport TravelPlan from \"./pages/TravelPlan\";\nimport TripMembers from \"./pages/TripMembers\";\nimport AcceptInvitation from \"./pages/AcceptInvitation\";\nimport Messages from \"./pages/Messages\";\nimport PrivateRoute from \"./components/PrivateRoute\";\nimport Loader from \"./components/Loader\";\nimport AuthService from \"./api/authService\";\nimport NavBar from \"./components/NavBar\";\n\nimport \"./App.css\";\n\nexport default class App extends Component {\n  constructor() {\n    super();\n    this.state = {\n      user: null,\n      isLoadingUser: true\n    };\n    this.authService = new AuthService();\n  }\n\n  componentDidMount = async () => {\n    let user;\n    try {\n      user = await this.authService.isLoggedIn();\n    } catch (err) {\n      user = null;\n    } finally {\n      this.setUserState(user);\n    }\n  };\n\n  setUserState = user => {\n    this.setState({ user, isLoadingUser: false });\n  };\n\n  logout = async () => {\n    let user;\n    try {\n      user = await this.authService.logout();\n    } catch (err) {\n      console.log(err);\n    } finally {\n      this.setState({ user: null });\n    }\n  };\n  render() {\n    if (this.state.isLoadingUser)\n      return <Loader className=\"full-screen-loader\" />;\n    return (\n      <div className=\"App\">\n        <NavBar\n          user={this.state.user}\n          setUserState={this.setUserState}\n          logout={this.logout}\n        />\n        <Switch>\n          <Route exact path=\"/\" component={Home} />\n          <Route\n            path=\"/login\"\n            render={props => (\n              <Login {...props} setUserState={this.setUserState} />\n            )}\n          />\n          <Route\n            path=\"/register\"\n            render={props => (\n              <Register {...props} setUserState={this.setUserState} />\n            )}\n          />\n          <PrivateRoute\n            path=\"/dashboard\"\n            user={this.state.user}\n            component={Dashboard}\n          />\n          <PrivateRoute\n            path=\"/profile\"\n            user={this.state.user}\n            setUserState={this.setUserState}\n            component={Profile}\n          />\n          <PrivateRoute\n            path=\"/add-trip\"\n            user={this.state.user}\n            setUserState={this.setUserState}\n            component={NewTrip}\n          />\n          <Route path=\"/trip/:id\" user={this.state.user} component={Trip} />\n          <Route\n            path=\"/travelplan/:id\"\n            user={this.state.user}\n            component={TravelPlan}\n          />\n          <Route\n            path=\"/tripmembers/:id\"\n            user={this.state.user}\n            component={TripMembers}\n          />\n          <Route\n            path=\"/invite/:task\"\n            render={props => (\n              <AcceptInvitation\n                {...props}\n                user={this.state.user}\n                setUserState={this.setUserState}\n              />\n            )}\n          />\n          <Route\n            path=\"/messages/:id\"\n            user={this.state.user}\n            component={Messages}\n          />\n        </Switch>\n      </div>\n    );\n  }\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport \"./index.css\";\nimport \"./mystyles.css\";\n\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(\n  <BrowserRouter>\n    <App />\n  </BrowserRouter>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/tripbuilder.14286e0e.svg\";"],"sourceRoot":""}